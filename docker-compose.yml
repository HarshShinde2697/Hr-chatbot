n8n:
  build: .
  container_name: n8n
  ports:
    - "5678:5678"
  volumes:
    - ./data/n8n:/home/node/.n8n
    - ./data/documents:/home/node/.n8n-files/documents
  environment:
    - N8N_BASIC_AUTH_ACTIVE=false
    - N8N_HOST=0.0.0.0
    - N8N_PORT=5678
    - N8N_PROTOCOL=http
    - WEBHOOK_URL=http://localhost:5678/
    - GEMINI_API_KEY=${GEMINI_API_KEY}
  depends_on:
    - qdrant
    - redis